<!doctype html>
<html lang="en" itemscope itemtype="https://schema.org/Article">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="Find a trusted HVAC pro in your area.">

<meta name="twitter:card" content="summary" />
<meta property="og:url" content="https://hvacanswers.com/">
<meta property="og:type" content="website">
<meta property="og:title" content="HVAC Answers">
<meta property="og:image" content="https://hvacanswers.com/android-chrome-512x512.png">
<meta property="og:image:alt" content="HVAC Answers - Find a Pro">
<meta property="og:description" content="When you need to invest in your HVAC system, you want a qualified professional.">
<meta property="og:site_name" content="hvacanswers.com">
<meta property="og:locale" content="en_US">

<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#00a300">
<meta name="msapplication-config" content="browserconfig.xml" />
<meta name="msapplication-TileColor" content="#00a300">
<meta name="theme-color" content="#ffffff">

<title>Find a HVAC Pro</title>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css" integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N" crossorigin="anonymous">
<link rel="stylesheet" href="css/main.css">

<script async src="https://www.googletagmanager.com/gtag/js?id=G-JNMCE1KQ9P"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-JNMCE1KQ9P');
</script>
</head>
<body>

<nav id="sidebar" class="d-block d-lg-none">
	<button type="button" class="close p-4 float-right" aria-label="Close" id="dismiss">
		<span aria-hidden="true"><img src="img/x-icon.svg"></span>
	</button>
	<div class="clearfix" id="slideMenuTop"></div>
	<div class="clearfix container mt-3" id="slideMenuBottom"></div>
</nav>

<div class="container-fluid bg-white pb-2" id="mainNavContainer">
	<div class="container">
		<div class="row">
			<div class="col">
				<nav class="navbar navbar-expand-lg navbar-light pl-0 py-0 mt-0 pr-0 pr-lg-3" id="mainNavContainerContainer">
				<a class="navbar-brand p-0 text-right" href="index.html"><img src="img/logo_artwork.svg" class="mt-4" alt="HVAC Answers Logo"><span id="presentedBy" class="d-block mt-1">Powered by Johnstone Supply</span></a>
				<button class="navbar-toggler" type="button" aria-label="Toggle navigation" id="sidebarToggler"><span class="navbar-toggler-icon"></span></button>
					<div class="ml-auto mt-n3" id="mainNav">
						<a class="btn btn-lg btn-white border-success text-success btn-rounded font-weight-bold mt-0 mt-lg-4 mr-0 mr-lg-4" href="find-a-pro.html" id="headerFindPro">FIND A PRO <img src="img/hvac-unit.svg" alt="Search Glass" class="d-none d-lg-inline ml-2"><img src="img/hvac-unit.svg" alt="Search Glass White" class="d-inline d-lg-none ml-2"></a>
						<a class="btn btn-lg btn-success btn-rounded font-weight-bold mt-0 mt-lg-4" href="rebate-center.html" id="headerRebateCenter">REBATE CENTER <img src="img/search-list.svg" alt="Search Glass" class="d-none d-lg-inline ml-2"><img src="img/search-list.svg" alt="Search Glass White" class="d-inline d-lg-none ml-2"></a>
					</div>
				</nav>
			</div>
		</div>
	</div>
</div>

<div class="container-fluid bg-white pb-1" id="mainSubNavContainer">
	<div class="container">
		<div class="row">
			<div class="col-12" id="subNavContainerContainer">
				<nav class="navbar navbar-expand-lg navbar-light" id="subNavContainer">
					<ul class="navbar-nav ml-auto text-right">
						<li class="nav-item dropdown megamenu-li mr-0 mr-lg-5">
							<a class="nav-link dropdown-toggle text-left mb-2 mb-lg-0" href="#" id="savingsRegulationsDropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Savings &amp; Regulations</a>
							<div class="dropdown-menu megamenu shadow" aria-labelledby="savingsRegulationsDropdown">
								<div class="row">
									<div class="col-12 col-lg-4 py-4 bg-white border-right">
									<h6 class="ml-0 ml-lg-3">Regulations</h6>
									<a class="dropdown-item py-2 pl-3" href="a2l-refrigerants.html">A2L</a>
									<a class="dropdown-item py-2 pl-3" href="aim-act-regulations.html">AIM Act</a>
									<a class="dropdown-item py-2 pl-3" href="https://www.seer2.com" target="_blank">SEER2 <img class="mb-1 ml-3" src="img/box-arrow-up-right.svg" width="12" height="12" alt="External URL"></a>
									</div>
									<div class="col-12 col-lg-4 pb-4 py-lg-4 bg-white">
									<h6 class="ml-0 ml-lg-3">Financial Incentives</h6>
									<a class="dropdown-item pl-3" href="inflation-reduction-act.html">Inflation Reduction Act</a>
									</div>
									<div class="col-12 col-lg-4 bg-darkteal py-4 px-0 px-lg-4">
										<div class="row">
											<div class="col-5 col-lg-12">
												<a href="a2l-refrigerants.html"><img class="d-block ml-3 ml-lg-0 w-100" src="img/hvac-answers-incentives-homes.png" alt="Woman with tablet"></a>
											</div>
											<div class="col-7 col-lg-12">
												<p class="d-inline d-lg-block text-light mt-2"><a class="text-white d-block" href="a2l-refrigerants.html">What A2L Is and Why It Matters to You &rarr;</a></p>
											</div>
										</div>
									</div>
								</div>
							</div>
						</li>
						<li class="nav-item">
							<a class="nav-link text-left py-4 py-lg-2" href="hvac-questions.html">HVAC Questions</a>
						</li>
					</ul>
				</nav>
			</div>
		</div>
	</div>
</div>

<div class="container-fluid bg-find-a-pro pb-7" id="mainNavContainerFluid">
	<div class="container">
		<div class="row justify-content-center">
			<div class="col-12 col-lg-8 mt-3 mt-lg-4 py-lg-5 text-center">
				<p class="text-lightgray mt-5 lead-bold">HVAC Pro</p>
				<h1 class="text-light mt-4 mb-5"><strong>Find a Trusted Dealer</strong></h1>
				<p class="body-copy text-white">When you need to invest in your HVAC system, <br class="d-none d-lg-block">you want a qualified professional.</p>
			</div>
		</div>
	</div>
</div>

<div class="container-fluid find-a-pro-searchbar">
<div class="container mb-3">
<div class="row justify-content-center text-center">
<div class="col-12 col-lg-7 px-0 px-lg-3">
<div class="card h-100 mt-n6 bg-lightgray pb-6 border-0 rounded-0">
<div class="card-body px-4 px-lg-5 pb-5">
	<h3 class="mt-3">Search for an HVAC pro in your area:</h3>
	<div class="form-row mt-4">
		<div class="col-12 col-sm-8">
			<input id="zipCode" type="text" class="form-control form-control-lg rounded-0" aria-label="Enter your ZIP Code" placeholder="Enter your ZIP Code" spellcheck="false">
		</div>
		<div class="col-12 col-sm-4">
			<button class="btn btn-lg btn-success rounded-pill px-4 mt-4 mt-sm-0" id="btnZipCode" type="button">Find my pro</button>
		</div>
	</div>
	<div class="invalid-zipcode d-none">
		<p class="text-danger body-copy mt-3">Please enter a valid US ZIP Code</p>
	</div>
</div>
</div>
</div>
</div>
</div>
</div>

<div class="container-fluid bg-white">
	<div class="container mb-5">
		<div class="row justify-content-center">
			<div class="col-12 col-lg-8">
				<div id="jotFormButtons" class="mt-n5 mb-2 d-none text-center">
					<a href="#" class="btn btn-sm btn-success rounded-pill my-2 mr-2 px-3" data-toggle="modal" data-target="#modalRequestAdd"><svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 640 512" class="mr-2"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><style>svg{fill:#ffffff}</style><path d="M96 128a128 128 0 1 1 256 0A128 128 0 1 1 96 128zM0 482.3C0 383.8 79.8 304 178.3 304h91.4C368.2 304 448 383.8 448 482.3c0 16.4-13.3 29.7-29.7 29.7H29.7C13.3 512 0 498.7 0 482.3zM504 312V248H440c-13.3 0-24-10.7-24-24s10.7-24 24-24h64V136c0-13.3 10.7-24 24-24s24 10.7 24 24v64h64c13.3 0 24 10.7 24 24s-10.7 24-24 24H552v64c0 13.3-10.7 24-24 24s-24-10.7-24-24z"/></svg> Not Listed? Start Here.</a>
					<a href="#" class="btn btn-sm btn-success rounded-pill my-2 mr-2 px-3" data-toggle="modal" data-target="#modalSuggestEdit"><svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512" class="mr-2"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><style>svg{fill:#ffffff}</style><path d="M410.3 231l11.3-11.3-33.9-33.9-62.1-62.1L291.7 89.8l-11.3 11.3-22.6 22.6L58.6 322.9c-10.4 10.4-18 23.3-22.2 37.4L1 480.7c-2.5 8.4-.2 17.5 6.1 23.7s15.3 8.5 23.7 6.1l120.3-35.4c14.1-4.2 27-11.8 37.4-22.2L387.7 253.7 410.3 231zM160 399.4l-9.1 22.7c-4 3.1-8.5 5.4-13.3 6.9L59.4 452l23-78.1c1.4-4.9 3.8-9.4 6.9-13.3l22.7-9.1v32c0 8.8 7.2 16 16 16h32zM362.7 18.7L348.3 33.2 325.7 55.8 314.3 67.1l33.9 33.9 62.1 62.1 33.9 33.9 11.3-11.3 22.6-22.6 14.5-14.5c25-25 25-65.5 0-90.5L453.3 18.7c-25-25-65.5-25-90.5 0zm-47.4 168l-144 144c-6.2 6.2-16.4 6.2-22.6 0s-6.2-16.4 0-22.6l144-144c6.2-6.2 16.4-6.2 22.6 0s6.2 16.4 0 22.6z"/></svg> Suggest an Edit</a>
				</div>
				<small id="resultsCountContainer" class="d-none"></small>
				<div class="text-center d-none" id="spinner">
					<div class="spinner-grow text-success" role="status">
						<span class="sr-only">Loading...</span>
					</div>
				</div>
				<h3 id="noResultsMessage" class="d-none"></h3>
				<div id="fetchError" class="d-none alert alert-light">
					<h4>Our apologies</h4>
					<p>There was a <strong>system error</strong> when retrieving dealers. Our support team has been notified and we are working to resolve the issue.</p>
					<p><a href="#" class="preventDefault text-success font-weight-bold" data-toggle="modal" data-target="#modalFeedback">Let us know</a> if you have questions and we'll get back to you as soon as possible. Thank you.</p>
				</div>
				<div id="resultsContainer" class="mb-5"></div>
				<small id="disclaimerText" class="text-muted mt-6">Local HVAC contractors listed on this site are independent businesses that are solely responsible for the quality of their work. Johnstone Supply does not verify that these HVAC contractors are certified or licensed to perform such services. You should perform your own evaluation when selecting an HVAC contractor.</small>
			</div>
		</div>
	</div>
</div>

<!--footer start-->

<div class="container-fluid bg-darkblue">
	<div class="container">
		<div class="row justify-content-center">
			<div class="col-12 col-lg-6 py-lg-5 text-center">
				<img id="johnstoneLogo" class="d-block mx-auto mt-5 mb-3" src="img/johnstone-supply-logo-white.svg" alt="Johnstone Supply">
				<p class="lead text-light text-1rem mb-3">At Johnstone Supply, we're proud to provide you and your team the most advanced HVAC products, tools and support.</p>
				<a href="https://www.johnstonesupply.com" class="btn btn-lg btn-light btn-rounded text-lightblue font-weight-bolder mb-5" role="button" target="_blank" rel="noopener">Visit our website</a>
			</div>
		</div>
	</div>
</div>

<div class="container-fluid bg-deepblue">
	<div class="container">
		<div class="row">
			<div class="col-12 col-md-5 py-2 py-md-5 text-center mt-3 mt-lg-0">
				<p class="text-light">&copy; <span id="currentYear"></span> Johnstone Supply. All Rights Reserved.</p>
			</div>
			<div class="col-12 col-md-7 pt-2 pb-5 py-md-5 text-center text-md-right">
				<a href="#" class="d-block d-lg-inline text-light px-1 px-md-4 preventDefault" data-toggle="modal" data-target="#modalFeedback">Website Feedback</a>
				<a href="support.html" class="d-block d-lg-inline text-light px-1 px-md-4">Support</a>
				<a href="privacy-statement.html" class="d-block d-lg-inline text-light px-1 px-md-4">Privacy Statement</a>
				<a href="terms-of-use.html" class="d-block d-lg-inline text-light px-1 px-md-4">Terms of Use</a>
			</div>
		</div>
	</div>
</div>

<div class="overlay d-lg-none"></div>

<div class="modal fade" id="modalFeedback" tabindex="-1" aria-labelledby="modalFeedbackLabel" aria-hidden="true">
	<div class="modal-dialog modal-lg">
	  <div class="modal-content">
		<div class="modal-header bg-darkblue">
		  <h5 class="modal-title text-white" id="modalFeedbackLabel">Website Feedback</h5>
		  <button type="button" class="close text-white" data-dismiss="modal" aria-label="Close">
			<span aria-hidden="true">&times;</span>
		  </button>
		</div>
		<div class="modal-body bg-lightgray">
			<iframe
			id="JotFormIFrame-232060788528159"
			title="HVAC Answers Website Feedback"
			onload="window.parent.scrollTo(0,0)"
			allowtransparency="true"
			allowfullscreen="true"
			allow="geolocation; microphone; camera"
			src="https://form.jotform.com/232060788528159"
			frameborder="0"
			style="min-width:100%;max-width:100%;height:539px;border:none;"
			scrolling="no"
			>
			</iframe>
			<script type="text/javascript">
			var ifr = document.getElementById("JotFormIFrame-232060788528159");
			if (ifr) {
			var src = ifr.src;
			var iframeParams = [];
			if (window.location.href && window.location.href.indexOf("?") > -1) {
				iframeParams = iframeParams.concat(window.location.href.substr(window.location.href.indexOf("?") + 1).split('&'));
			}
			if (src && src.indexOf("?") > -1) {
				iframeParams = iframeParams.concat(src.substr(src.indexOf("?") + 1).split("&"));
				src = src.substr(0, src.indexOf("?"))
			}
			iframeParams.push("isIframeEmbed=1");
			ifr.src = src + "?" + iframeParams.join('&');
			}
			window.handleIFrameMessage = function(e) {
			if (typeof e.data === 'object') { return; }
			var args = e.data.split(":");
			if (args.length > 2) { iframe = document.getElementById("JotFormIFrame-" + args[(args.length - 1)]); } else { iframe = document.getElementById("JotFormIFrame"); }
			if (!iframe) { return; }
			switch (args[0]) {
				case "scrollIntoView":
				iframe.scrollIntoView();
				break;
				case "setHeight":
				iframe.style.height = args[1] + "px";
				if (!isNaN(args[1]) && parseInt(iframe.style.minHeight) > parseInt(args[1])) {
					iframe.style.minHeight = args[1] + "px";
				}
				break;
				case "collapseErrorPage":
				if (iframe.clientHeight > window.innerHeight) {
					iframe.style.height = window.innerHeight + "px";
				}
				break;
				case "reloadPage":
				window.location.reload();
				break;
				case "loadScript":
				if( !window.isPermitted(e.origin, ['jotform.com', 'jotform.pro']) ) { break; }
				var src = args[1];
				if (args.length > 3) {
					src = args[1] + ':' + args[2];
				}
				var script = document.createElement('script');
				script.src = src;
				script.type = 'text/javascript';
				document.body.appendChild(script);
				break;
				case "exitFullscreen":
				if      (window.document.exitFullscreen)        window.document.exitFullscreen();
				else if (window.document.mozCancelFullScreen)   window.document.mozCancelFullScreen();
				else if (window.document.mozCancelFullscreen)   window.document.mozCancelFullScreen();
				else if (window.document.webkitExitFullscreen)  window.document.webkitExitFullscreen();
				else if (window.document.msExitFullscreen)      window.document.msExitFullscreen();
				break;
			}
			var isJotForm = (e.origin.indexOf("jotform") > -1) ? true : false;
			if(isJotForm && "contentWindow" in iframe && "postMessage" in iframe.contentWindow) {
				var urls = {"docurl":encodeURIComponent(document.URL),"referrer":encodeURIComponent(document.referrer)};
				iframe.contentWindow.postMessage(JSON.stringify({"type":"urls","value":urls}), "*");
			}
			};
			window.isPermitted = function(originUrl, whitelisted_domains) {
			var url = document.createElement('a');
			url.href = originUrl;
			var hostname = url.hostname;
			var result = false;
			if( typeof hostname !== 'undefined' ) {
				whitelisted_domains.forEach(function(element) {
					if( hostname.slice((-1 * element.length - 1)) === '.'.concat(element) ||  hostname === element ) {
						result = true;
					}
				});
				return result;
			}
			};
			if (window.addEventListener) {
			window.addEventListener("message", handleIFrameMessage, false);
			} else if (window.attachEvent) {
			window.attachEvent("onmessage", handleIFrameMessage);
			}
			</script>
		</div>
		</div>
	</div>
</div>

<div class="modal fade" id="modalRequestAdd" tabindex="-1" aria-labelledby="modalRequestAddLabel" aria-hidden="true">
	<div class="modal-dialog modal-lg">
	  <div class="modal-content">
		<div class="modal-header bg-darkblue">
		  <h5 class="modal-title text-white" id="modalRequestAddLabel">Request to be Listed</h5>
		  <button type="button" class="close text-white" data-dismiss="modal" aria-label="Close">
			<span aria-hidden="true">&times;</span>
		  </button>
		</div>
		<div class="modal-body bg-lightgray">
			<iframe
			id="JotFormIFrame-232701547143147"
			title="HVAC Answers - Find a Pro - Request to be added"
			onload="window.parent.scrollTo(0,0)"
			allowtransparency="true"
			allowfullscreen="true"
			allow="geolocation; microphone; camera"
			src="https://form.jotform.com/232701547143147"
			frameborder="0"
			style="min-width:100%;max-width:100%;height:539px;border:none;"
			scrolling="no"
		  >
		  </iframe>
		  <script type="text/javascript">
		  var ifr = document.getElementById("JotFormIFrame-232701547143147");
		  if (ifr) {
			var src = ifr.src;
			var iframeParams = [];
			if (window.location.href && window.location.href.indexOf("?") > -1) {
			  iframeParams = iframeParams.concat(window.location.href.substr(window.location.href.indexOf("?") + 1).split('&'));
			}
			if (src && src.indexOf("?") > -1) {
			  iframeParams = iframeParams.concat(src.substr(src.indexOf("?") + 1).split("&"));
			  src = src.substr(0, src.indexOf("?"))
			}
			iframeParams.push("isIframeEmbed=1");
			ifr.src = src + "?" + iframeParams.join('&');
		  }
		  window.handleIFrameMessage = function(e) {
			if (typeof e.data === 'object') { return; }
			var args = e.data.split(":");
			if (args.length > 2) { iframe = document.getElementById("JotFormIFrame-" + args[(args.length - 1)]); } else { iframe = document.getElementById("JotFormIFrame"); }
			if (!iframe) { return; }
			switch (args[0]) {
			  case "scrollIntoView":
				iframe.scrollIntoView();
				break;
			  case "setHeight":
				iframe.style.height = args[1] + "px";
				if (!isNaN(args[1]) && parseInt(iframe.style.minHeight) > parseInt(args[1])) {
				  iframe.style.minHeight = args[1] + "px";
				}
				break;
			  case "collapseErrorPage":
				if (iframe.clientHeight > window.innerHeight) {
				  iframe.style.height = window.innerHeight + "px";
				}
				break;
			  case "reloadPage":
				window.location.reload();
				break;
			  case "loadScript":
				if( !window.isPermitted(e.origin, ['jotform.com', 'jotform.pro']) ) { break; }
				var src = args[1];
				if (args.length > 3) {
					src = args[1] + ':' + args[2];
				}
				var script = document.createElement('script');
				script.src = src;
				script.type = 'text/javascript';
				document.body.appendChild(script);
				break;
			  case "exitFullscreen":
				if      (window.document.exitFullscreen)        window.document.exitFullscreen();
				else if (window.document.mozCancelFullScreen)   window.document.mozCancelFullScreen();
				else if (window.document.mozCancelFullscreen)   window.document.mozCancelFullScreen();
				else if (window.document.webkitExitFullscreen)  window.document.webkitExitFullscreen();
				else if (window.document.msExitFullscreen)      window.document.msExitFullscreen();
				break;
			}
			var isJotForm = (e.origin.indexOf("jotform") > -1) ? true : false;
			if(isJotForm && "contentWindow" in iframe && "postMessage" in iframe.contentWindow) {
			  var urls = {"docurl":encodeURIComponent(document.URL),"referrer":encodeURIComponent(document.referrer)};
			  iframe.contentWindow.postMessage(JSON.stringify({"type":"urls","value":urls}), "*");
			}
		  };
		  window.isPermitted = function(originUrl, whitelisted_domains) {
			var url = document.createElement('a');
			url.href = originUrl;
			var hostname = url.hostname;
			var result = false;
			if( typeof hostname !== 'undefined' ) {
			  whitelisted_domains.forEach(function(element) {
				  if( hostname.slice((-1 * element.length - 1)) === '.'.concat(element) ||  hostname === element ) {
					  result = true;
				  }
			  });
			  return result;
			}
		  };
		  if (window.addEventListener) {
			window.addEventListener("message", handleIFrameMessage, false);
		  } else if (window.attachEvent) {
			window.attachEvent("onmessage", handleIFrameMessage);
		  }
		  </script>
		</div>
		</div>
	</div>
</div>


<div class="modal fade" id="modalSuggestEdit" tabindex="-1" aria-labelledby="modalSuggestEditLabel" aria-hidden="true">
	<div class="modal-dialog modal-lg">
	  <div class="modal-content">
		<div class="modal-header bg-darkblue">
		  <h5 class="modal-title text-white" id="modalSuggestEditLabel">Suggest an Edit</h5>
		  <button type="button" class="close text-white" data-dismiss="modal" aria-label="Close">
			<span aria-hidden="true">&times;</span>
		  </button>
		</div>
		<div class="modal-body bg-lightgray">
			<iframe
			id="JotFormIFrame-232701709555154"
			title="HVAC Answers - Suggest an Edit"
			onload="window.parent.scrollTo(0,0)"
			allowtransparency="true"
			allowfullscreen="true"
			allow="geolocation; microphone; camera"
			src="https://form.jotform.com/232701709555154"
			frameborder="0"
			style="min-width:100%;max-width:100%;height:539px;border:none;"
			scrolling="no"
			>
			</iframe>
			<script type="text/javascript">
			var ifr = document.getElementById("JotFormIFrame-232701709555154");
			if (ifr) {
			var src = ifr.src;
			var iframeParams = [];
			if (window.location.href && window.location.href.indexOf("?") > -1) {
			iframeParams = iframeParams.concat(window.location.href.substr(window.location.href.indexOf("?") + 1).split('&'));
			}
			if (src && src.indexOf("?") > -1) {
			iframeParams = iframeParams.concat(src.substr(src.indexOf("?") + 1).split("&"));
			src = src.substr(0, src.indexOf("?"))
			}
			iframeParams.push("isIframeEmbed=1");
			ifr.src = src + "?" + iframeParams.join('&');
			}
			window.handleIFrameMessage = function(e) {
			if (typeof e.data === 'object') { return; }
			var args = e.data.split(":");
			if (args.length > 2) { iframe = document.getElementById("JotFormIFrame-" + args[(args.length - 1)]); } else { iframe = document.getElementById("JotFormIFrame"); }
			if (!iframe) { return; }
			switch (args[0]) {
			case "scrollIntoView":
				iframe.scrollIntoView();
				break;
			case "setHeight":
				iframe.style.height = args[1] + "px";
				if (!isNaN(args[1]) && parseInt(iframe.style.minHeight) > parseInt(args[1])) {
				iframe.style.minHeight = args[1] + "px";
				}
				break;
			case "collapseErrorPage":
				if (iframe.clientHeight > window.innerHeight) {
				iframe.style.height = window.innerHeight + "px";
				}
				break;
			case "reloadPage":
				window.location.reload();
				break;
			case "loadScript":
				if( !window.isPermitted(e.origin, ['jotform.com', 'jotform.pro']) ) { break; }
				var src = args[1];
				if (args.length > 3) {
					src = args[1] + ':' + args[2];
				}
				var script = document.createElement('script');
				script.src = src;
				script.type = 'text/javascript';
				document.body.appendChild(script);
				break;
			case "exitFullscreen":
				if      (window.document.exitFullscreen)        window.document.exitFullscreen();
				else if (window.document.mozCancelFullScreen)   window.document.mozCancelFullScreen();
				else if (window.document.mozCancelFullscreen)   window.document.mozCancelFullScreen();
				else if (window.document.webkitExitFullscreen)  window.document.webkitExitFullscreen();
				else if (window.document.msExitFullscreen)      window.document.msExitFullscreen();
				break;
			}
			var isJotForm = (e.origin.indexOf("jotform") > -1) ? true : false;
			if(isJotForm && "contentWindow" in iframe && "postMessage" in iframe.contentWindow) {
			var urls = {"docurl":encodeURIComponent(document.URL),"referrer":encodeURIComponent(document.referrer)};
			iframe.contentWindow.postMessage(JSON.stringify({"type":"urls","value":urls}), "*");
			}
			};
			window.isPermitted = function(originUrl, whitelisted_domains) {
			var url = document.createElement('a');
			url.href = originUrl;
			var hostname = url.hostname;
			var result = false;
			if( typeof hostname !== 'undefined' ) {
			whitelisted_domains.forEach(function(element) {
				if( hostname.slice((-1 * element.length - 1)) === '.'.concat(element) ||  hostname === element ) {
					result = true;
				}
			});
			return result;
			}
			};
			if (window.addEventListener) {
			window.addEventListener("message", handleIFrameMessage, false);
			} else if (window.attachEvent) {
			window.attachEvent("onmessage", handleIFrameMessage);
			}
			</script>
			</div>
		</div>
	</div>
</div>

<script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-Piv4xVNRyMGpqkS2by6br4gNJ7DXjqk09RmUpJ8jgGtD7zP9yug3goQfGII0yAns" crossorigin="anonymous"></script>
<script src="js/main.js"></script>
<script>

const resultsContainer = document.querySelector("#resultsContainer");
const noResultsMessage = document.querySelector("#noResultsMessage");
const resultsCountContainer = document.querySelector("#resultsCountContainer");
const jotFormButtons = document.querySelector("#jotFormButtons");
const btnZipCode = document.querySelector("#btnZipCode");
const invalidFeedback = document.querySelector(".invalid-zipcode");
const fetchError = document.querySelector("#fetchError");
const spinner = document.querySelector("#spinner");
const resultsLimit = 10; //max 30 returned from API 

window.onload = function() {
	const queryString = window.location.search;
	const urlParams = new URLSearchParams(queryString);
	if (urlParams.has('segments')) {
		urlSegments = urlParams.get('segments');
	}
	document.getElementById("zipCode").focus();
}

document.getElementById("btnZipCode").addEventListener("click", function() {
	const enteredZip = document.querySelector("#zipCode").value;
	const isValidZip = /(^\d{5}$)|(^\d{5}-\d{4}$)/.test(enteredZip);
	isValidZip ? findDealers(enteredZip) : invalidZip(); 
});

document.getElementById("zipCode").addEventListener("keyup", function(e) {
	if (e.key === "Enter" || e.keyCode === 13) {
		const enteredZip = document.querySelector("#zipCode").value;
		const isValidZip = /(^\d{5}$)|(^\d{5}-\d{4}$)/.test(enteredZip);
		isValidZip ? findDealers(enteredZip) : invalidZip();
	}
});

function findDealers(enteredZip) {

	showLoading();
	invalidFeedback.classList.add('d-none');

	//if there is a Segment in URL
	if (typeof urlSegments !== 'undefined') {
		apiAction = "find-by-zip-code-and-segment";
		enteredSegments = "&segment=" + urlSegments;
	} else {
		apiAction = "find-by-zip-code";
		enteredSegments = "";
	}

	const host = window.location.host;
	const subdomain = host.split('.')[0];
	if (subdomain == "www" || subdomain == "hvacanswers") {
		apiSubdomain = "";
	} else {
		apiSubdomain = "qa-";
	}
	const dealerRequest = new Request("https://" + apiSubdomain + "microservice.hvacanswers.com/dealer/dealer-lookup/" + apiAction + "?zipCode=" + enteredZip + enteredSegments);

	fetch(dealerRequest)
	.then((response) => response.json())
	.then((data) => {
		
		hideLoading();
		hideError();

		resultsContainer.replaceChildren();

		scrollTarget = $('#zipCode');
		$('html, body').animate({
			scrollTop: scrollTarget.offset().top -30
		}, 1000, function() {
				var $scrollTarget = $(scrollTarget);
				$scrollTarget.focus();
			if ($scrollTarget.is(":focus")) {
				return false;
			} else {
				$scrollTarget.attr('tabindex','-1');
				$scrollTarget.focus();
			};
		});

		if (data.length == 0) {
			noResultsMessage.classList.remove("d-none");
			resultsCountContainer.innerText = "No Results";
			noResultsMessage.innerText = "Please try again later or enter a new ZIP Code.";
			jotFormButtons.classList.add("d-block");
		} else {

			data.sort((a,b) => (a.verified === b.verified ? 0 : a.verified == "Yes" ? -1 : 1) || b.popularityScore - a.popularityScore);

			let limit = 0;
			for (const dealer of data) {
				
				const isVerified = dealer.verified;
				const phoneNumber = dealer.phoneNumber;
				const website = dealer.website;
				
				if (isVerified || phoneNumber || website) {

					//results row 
					const resultsRow = document.createElement("div");
					resultsRow.classList.add("row", "border-top", "border-secondary", "mt-5", "pt-5");
					
					//first col start
					const firstCol = document.createElement("div");
					firstCol.classList.add("col-12");
					//if verified 
					
					if (isVerified == "Yes") {
						const verifiedImg = new Image();
						verifiedImg.src = "img/icon-verified.svg";
						verifiedImg.alt = "Trusted icon";
						const trustedSpan = document.createElement("span");
						trustedSpan.classList.add("text-darkblue", "font-weight-bold", "text-uppercase", "align-middle");
						trustedSpan.innerText = " Trusted";
						firstCol.appendChild(verifiedImg);
						firstCol.appendChild(trustedSpan);
					}
					//businessName
					const businessNameH4 = document.createElement("h4");
					businessNameH4.classList.add("mb-3");
					businessNameH4.innerText = dealer.businessName;
					firstCol.appendChild(businessNameH4);
					resultsRow.appendChild(firstCol);
					//first column end

					//second col start
					const secondCol = document.createElement("div");
					secondCol.classList.add("col-12", "col-md-6");
					//if phone
					
					if (phoneNumber) {
						const phoneLink = document.createElement("a");
						phoneLink.href = "tel:" + phoneNumber;
						phoneLink.classList.add("btn", "btn-block", "btn-link", "text-success", "text-left", "p-0", "font-weight-bold");
						const phoneImg = new Image();
						phoneImg.src = "img/icon-call.svg";
						phoneImg.alt = "Phone call icon";
						phoneImg.classList.add("mr-2");
						phoneLink.appendChild(phoneImg);
						const phoneNumberText = document.createTextNode(formatPhoneNumber(phoneNumber));
						phoneLink.appendChild(phoneNumberText);
						secondCol.appendChild(phoneLink);
					}
					//if website
					if (website) {
						const websiteLink = document.createElement("a");
						websiteLink.href = website;
						websiteLink.target = "_blank";
						websiteLink.classList.add("btn", "btn-block", "btn-link", "text-success", "text-left", "p-0");
						const websiteImg = new Image();
						websiteImg.src = "img/icon-website.svg";
						websiteImg.alt = "Website globe icon";
						websiteImg.classList.add("mr-2");
						websiteLink.appendChild(websiteImg);
						const websiteText = document.createTextNode(website.replace(/^(?:https?:\/\/)?(?:www\.)?/i, ""));;
						websiteLink.appendChild(websiteText);
						secondCol.appendChild(websiteLink);
					}
					resultsRow.appendChild(secondCol);
					//second col end

					//third col start
					const thirdCol = document.createElement("div");
					thirdCol.classList.add("col-12", "col-md-6");
					const dealerAddress = dealer.address;
					const dealerCity = dealer.city;
					const dealerState = dealer.state;
					const dealerZip = dealer.zipCode;
					//if address
					if (dealerAddress && dealerCity && dealerState && dealerZip) {
						const addressP = document.createElement("p");
						addressP.classList.add("mt-3", "mt-md-0");
						const addressText = document.createTextNode(dealerAddress);
						const linebreak = document.createElement("br");
						const cityStateZip = document.createTextNode(dealerCity + ", " + dealerState + " " + dealerZip);
						addressP.appendChild(addressText);
						addressP.appendChild(linebreak);
						addressP.appendChild(cityStateZip);
						thirdCol.appendChild(addressP);
					}
					resultsRow.appendChild(thirdCol);
					//third col end

					resultsContainer.appendChild(resultsRow);
				
					limit++;
					if (limit == resultsLimit) {
						break;
					}

				}

			}

			//update displayed results count 
			resultsCountContainer.innerText = limit + " Result" + (limit == 1 ? "" : "s");
			noResultsMessage.classList.add("d-none");
			jotFormButtons.classList.remove("d-none");
			resultsCountContainer.classList.remove("d-none");

		}

	})
	.catch((error) => {
		console.error(error);
		hideLoading();
		showError();
	})
}

function invalidZip() {
	invalidFeedback.classList.remove("d-none");
}

function formatPhoneNumber(phoneNumberString) {
	var cleaned = ('' + phoneNumberString).replace(/\D/g, '');
	var match = cleaned.match(/^(\d{3})(\d{3})(\d{4})$/);
	if (match) {
		return '(' + match[1] + ') ' + match[2] + '-' + match[3];
	}
	return null;
}

function showLoading() {
	spinner.classList.remove("d-none");
	btnZipCode.classList.add("disabled");
	btnZipCode.disabled = true;
}

function hideLoading() {
	spinner.classList.add("d-none");
	setTimeout(() => {
		btnZipCode.classList.remove("disabled");
		btnZipCode.disabled = false;
	}, 800);
}

function showError() {
	fetchError.classList.remove("d-none");
}

function hideError() {
	fetchError.classList.add("d-none");
}

</script>
</body>
</html>